# Step by step deconstruction of folds


#######################################################################
# Fold Right: is right associative
λ> :t foldr 
foldr :: Foldable t => (a -> b -> b) -> b -> t a -> b
foldr _ z [] = z
foldr f z (x:xs) = f x (foldr f z xs)

## eg:
## 1.1) foldr (^) 2 [1..3]
        (1 ^ (2 ^ (3 ^ 2)))
        (1 ^ (2 ^ 9))
        1 ^ 512
        1

#######################################################################
# Fold Left: is let associative 
λ> :t foldl 
foldl :: Foldable t => (b -> a -> b) -> b -> t a -> b
foldl _ z [] = z
foldl f z (x:xs) = foldl f (f z x) xs

## eg:
## 1.2) foldl (^) 2 [1..3]
        ((2 ^ 1) ^ 2) ^ 3
        (2 ^ 2) ^ 3
        4 ^ 3
        64

#######################################################################
## Fold right & Fold left relationship

foldr f z xs = foldl (flip f) z (reverse xs)
#######################################################################


#######################################################################
# More examples
## 2.1) foldr (/) 2 [(-1),2..5]
--                  ^ = [-1,2,5]

foldr (/) 2 [(-1),2..5] = (/) (-1) (foldr (/) 2 [2,5])
                                   = (/) 2 (foldr (/) 2 [5])
                                           = foldr (/) 5 (foldr (/) 2 [])
                                                         = 2
                                           ------------------------------
                                           = (/) 5 2
                                           = 2.5
                                   --------------------------------------
                                   = (/) 2 2.5
                                   = 0.8
                        -------------------------------------------------
                        = (/) (-1) 0.8
                        = 1.25


## 2.2) foldl (/) 2 [(-1),2..5]
--                  ^ = [-1,2,5]

foldl (/) 2 [(-1),2..5]
foldl (/) 2 ((-1):[2,5]) = foldl (/) ((/) 2 (-1)) [2,5]
                                     ------------
                                     = -2
                           ----------------------------
                           foldl (/) (-2) [2,5]
                           foldl (/) (-2) (2:[5]) = foldl (/) ((/) (-2) 2) [5]
                                                              ------------
                                                              = -1
                                                    --------------------------
                                                    foldl (/) (-1) [5]
                                                    foldl (/) (-1) (5:[]) = foldl (/) ((/) (-1) 5) []
                                                                                      ------------
                                                                                      = -0.2
                                                                            -------------------------
                                                                            foldl (/) 0.2 []
                                                                            foldl (/) 0.2 [] = -0.2






